{"version":3,"sources":["draw_functions.js","jk.js","generator.js","Test.js","index.js"],"names":["draw_rect_signal","ctx","x","y","w","h","signal","delta_x","length","level","level_last","beginPath","moveTo","i","lvl","parseInt","lineTo","stroke","jk","iobj","obj","r","s","c","inv_r","inv_s","inv_c","q","j","k","jk_array","inv_obj","ans","q1","push","Rand_of_var","variant","symbols","a","Math","abs","sin","floor","JK_now","this","signal_c","signal_j","signal_k","signal_r","signal_s","inv_C","inv_R","inv_S","order","n","super_const","slice","delete_from_signal","pos","tmp","Number","Rand_of_var3","splice","rand","VariantForm","changeVariant","className","type","value","onChange","min","AnswerForm","answer","changeValue","submitAnswer","placeholder","onClick","Test","useState","setValue","setAnswer","random","setVariant","variantMessage","setVariantMessage","generate","useEffect","toString","cnv","document","querySelector","width","parentNode","offsetWidth","height","offsetHeight","getContext","size","sig","strokeStyle","add_c","toLowerCase","fillText","clearRect","padding","inv","rect","textAlign","textBaseline","orderstr","split","join","s_pos","indexOf","r_pos","c_pos","arc","operation_preserve","globalCompositeOperation","PI","fill","draw_JK","cx","setLineDash","id","e","target","console","log","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7e619bf7.chunk.js","sourcesContent":["// draws rectangular signal\n// ctx is 2d context,\n// x, y, w, h -- coords and size,\n// signal -- array of 0s and 1s\nexport function draw_rect_signal(ctx, x, y, w, h, signal) {\n    var delta_x = w / signal.length;\n    var level = [y + h, y];\n    var level_last = 0;\n    ctx.beginPath();\n    ctx.moveTo(x, level[0]);\n    for (var i = 0; i < signal.length; i++) {\n        var lvl = parseInt(signal[i]);\n        ctx.lineTo(x, level[level_last]);\n        ctx.lineTo(x, level[lvl]);\n        x += delta_x;\n        level_last = lvl;\n    }\n    ctx.lineTo(x, level[level_last])\n    ctx.stroke();\n}\n\n// draws JK-trigger\n// ctx is 2d context,\n// x, y, w, h -- coords and size,\n// padding -- length of lines left and right\n// inv -- 3-elements boolean array:\n//  [s, c, r],\n//  each elements tells wether this input should be inverted\n//  TODO fix lines inside circle\nexport function draw_JK(ctx, x, y, w, h, padding, inv, order=\"SCJKR\") {\n    ctx.beginPath();\n    ctx.rect(x, y,        w,    h);\n    ctx.rect(x, y + h/5,  w/2,  3*h/5);\n    ctx.moveTo(x + w/2, y);\n    ctx.lineTo(x + w/2, y+h);\n    ctx.textAlign = \"center\";\n    ctx.textBaseline = \"middle\";\n    let orderstr = \" \" + order.split(\"\").join(\" \") + \" \";\n    let s_pos = orderstr.indexOf(\"S\");\n    let r_pos = orderstr.indexOf(\"R\");\n    let c_pos = orderstr.indexOf(\"C\");\n    for (var i = 1; i < 10; i+=2) {\n        ctx.moveTo(x-padding,   y+i*h/10);\n        ctx.lineTo(x,           y+i*h/10);\n        ctx.fillText(orderstr[i], x+padding, y+i*h/10)\n    }\n    if (inv[1]) { // drawing clock signal direction, up or down\n        ctx.moveTo(x - padding / 2, y + c_pos*h/10 - padding/2);\n        ctx.lineTo(x + padding / 2, y + c_pos*h/10 + padding/2);\n    }\n    else {\n        ctx.moveTo(x - padding / 2, y + c_pos*h/10 + padding/2);\n        ctx.lineTo(x + padding / 2, y + c_pos*h/10 - padding/2);\n    }\n    if (inv[0]) {\n        ctx.moveTo(x + padding/2, y + s_pos*h/10);\n        ctx.arc(x, y + s_pos*h/10, padding/2, 0, 7);\n    }\n    if (inv[2]) {\n        ctx.moveTo(x + padding/2, y + r_pos*h/10);\n        ctx.arc(x, y + r_pos*h/10, padding/2, 0, 7);\n    }\n    ctx.stroke();\n    let operation_preserve = ctx.globalCompositeOperation;\n    ctx.globalCompositeOperation = 'destination-out';\n    ctx.beginPath();\n    if (inv[0]) {\n        ctx.moveTo(x, y + s_pos*h/10);\n        ctx.arc(x, y + s_pos * h/10, padding/2-1, 0, Math.PI * 2);\n    }\n    if (inv[2]) {\n        ctx.moveTo(x, y + r_pos*h/10);\n        ctx.arc(x, y + r_pos * h/10, padding/2-1, 0, Math.PI * 2);\n    }\n    ctx.fill();\n    ctx.globalCompositeOperation = operation_preserve;\n}\n\n","// modelling jk-trigger work\n\n// input: object, where there are variables\n// q as current state (0 or 1),\n// j, k, r, s as inputs (0 or 1),\n// c -- clock pulse (-1 is down, 0 is none, 1 is up),\n// inv_r, inv_s, inv_c -- boolean, optional -- if r, s, c should be inverted\n// returns new state (q) of trigger\nfunction jk(iobj) {\n    let obj = {\"r\": iobj.r, \"s\": iobj.s, \"c\": iobj.c};\n    if (iobj.inv_r) obj.r = !iobj.r;\n    if (iobj.inv_s) obj.s = !iobj.s;\n    if (iobj.inv_c) obj.c = -iobj.c;\n    else obj.c = iobj.c;\n    obj.q = iobj.q;\n    obj.j = iobj.j;\n    obj.k = iobj.k;\n    if (obj.s && !obj.r) {\n        //console.log(\"s and not r\");\n        //console.log(\"s = \" + obj.s + \", r = \" + obj.r);\n        return 1;\n    }\n    if (obj.r && !obj.s) {\n        //console.log(\"r and not s\");\n        return 0;\n    }\n    if (!!obj.r && !!obj.s) {\n        //console.log(\"r and s\");\n        //console.log(\"r = \" + obj.r + \", s = \" + obj.s);\n        //console.log(typeof(obj.r));\n        return 1;\n    }\n    if (obj.c < 1) {\n        //console.log(\"no clock\");\n        return obj.q;\n    }\n    if (!obj.j && !obj.k) {\n        //console.log(\"storage\");\n        return obj.q;\n    }\n    if (obj.j && obj.k) {\n        //console.log(\"counter\");\n        return obj.q? 0 : 1; // \"not\" but in integer\n    }\n    if (obj.j) {\n        //console.log(\"set 1 with j\");\n        return 1;\n    }\n    return 0;\n}\n\n// processes signal with jk-trigger\n// c array should be N+1 size, 0/1-array, states (pulses computed automatically), \n// j, k, r, s should be N-size,\n// inv_obj sould be something like {\"r\": true, \"s\": true, \"c\": false}\n// it is not necessary to list inputs not to invert,\n// but not forbidden,\n// q is initial state\n// returns 0/1 array of stares\nexport function jk_array(j, k, r, s, c, q, inv_obj) {\n    var ans = [];\n    let q1 = q * 1;\n    for (var i = 0; i < j.length; i++) {\n        let obj = {\n            \"r\": r[i] * 1,\n            \"s\": s[i] * 1,\n            \"j\": j[i] * 1,\n            \"k\": k[i] * 1,\n            \"c\": c[i+1] - c[i],\n            \"inv_r\": !!inv_obj.r,\n            \"inv_s\": !!inv_obj.s,\n            \"inv_c\": !!inv_obj.c,\n            \"q\": q1 * 1\n        }\n        q1 = jk(obj);\n        ans.push(q1);\n    }\n    return ans;\n}\n","class JK_Trigger {\n\n    constructor() {\n        this.signal_c = \"\";\n        this.signal_j = \"\";\n        this.signal_k = \"\";\n        this.signal_r = \"\";\n        this.signal_s = \"\";\n        this.inv_C = true;\n        this.inv_R = true;\n        this.inv_S = true;\n        this.order = \"RCJKS\";\n        this.q = true;/*\n        this.pass_in = \"R\";\n        this.pass_val = 0;*/\n    }\n\n    generate(variant) {\n\n\n        this.signal_c = \"1010101010101010101010\";\n        this.signal_c = delete_from_signal(variant + 1 ** 3, this.signal_c);\n        this.signal_j = Rand_of_var(variant + 1 ** 2);\n        this.signal_k = Rand_of_var(variant + 2 ** 2);\n        //this.signal_r = Rand_of_var(variant + 3 ** 2);\n        //this.signal_s = Rand_of_var(variant + 4 ** 2);\n\n        let pos = [\"C\", \"J\", \"K\"];\n        this.order = \"\" + ((\"1\" === Rand_of_var(variant + 11 ** 2, 1)) ? \"R\" : \"S\");\n        let tmp = Number(Rand_of_var3(variant + 12 ** 2, 1));\n        this.order += pos[tmp];\n        pos.splice(tmp, 1);\n        tmp = Number(Rand_of_var(variant + 13 ** 2, 1));\n        this.order += pos[tmp];\n        pos.splice(tmp, 1);\n        this.order += pos[0];\n        this.order += ((\"0\" === Rand_of_var(variant + 11 ** 2, 1)) ? \"R\" : \"S\");\n\n        this.inv_C = \"1\" === Rand_of_var(variant + 5 ** 2, 1);\n        this.inv_R = \"1\" === Rand_of_var(variant + 6 ** 2, 1);\n        this.inv_S = \"1\" === Rand_of_var(variant + 7 ** 2, 1);\n        this.q = \"1\" === Rand_of_var(variant + 8 ** 2, 1);\n        let pass_in = (\"1\" === Rand_of_var(variant + 9 ** 2, 1)) ? \"R\" : \"S\";\n        //this.pass_val = Rand_of_var(variant + 10 ** 2, 1);\n\n        this.signal_r = \"\";\n        this.signal_s = \"\";\n        //let rand = Rand_of_var(variant + 15 ** 2, 1);\n        if (this.order[0] === \"R\") {\n            for (let i = 0; i < 19; i++) {\n                this.signal_r += ((this.inv_R) ? \"1\" : \"0\");\n                this.signal_s += (this.inv_S ? \"1\" : \"0\");\n            }\n            let rand = Math.floor(Math.abs(Math.sin(variant)) * 10000) % 5 + 3;\n            this.signal_s = this.signal_s.slice(0, rand) + ((this.signal_s[0] === \"1\") ? \"0000\" : \"1111\") + this.signal_s.slice(rand);\n            this.signal_s = this.signal_s.slice(0, 19);\n        } else {\n            for (let i = 0; i < 19; i++) {\n                this.signal_s += ((this.inv_S) ? \"1\" : \"0\");\n                this.signal_r += (this.inv_R ? \"1\" : \"0\");\n            }\n            let rand = Math.floor(Math.abs(Math.sin(variant)) * 10000) % 10 + 3;\n            this.signal_r = this.signal_r.slice(0, rand) + ((this.signal_r[0] === \"1\") ? \"0000\" : \"1111\") + this.signal_r.slice(rand);\n            this.signal_r = this.signal_r.slice(0, 19);\n        }\n    }\n\n\n}\nfunction delete_from_signal(variant, signal, n = 2, super_const = 3){\n    //СУПЕР КОНСТАНТА НЕСОСЕДНИХ ЭЛЕМЕНТОВ\n    let j = 0;\n    for (let i = 0; i < n; i++)\n    {\n        j += Math.floor(Math.abs(Math.sin(variant + 15 + 71 * i)) * 10000) % 5 + super_const;\n        signal = signal.slice(0, j) + signal.slice(j+1);\n    }\n\n    return signal;\n}\n/**\n * @return {string}\n */\nfunction Rand_of_var(variant, symbols = 19) {\n    let a = 0;\n    let signal = \"\";\n    for (let i = 0; i < symbols; i++) {\n        a += variant + i;\n        a = Math.abs(Math.sin(a)) * 10000;\n        signal += Math.floor(a) % 2 + \"\";\n    }\n    return signal;\n}\n\n/**\n * @return {string}\n */\nfunction Rand_of_var3(variant, symbols = 19) {\n    let a = 0;\n    let signal = \"\";\n    for (let i = 0; i < symbols; i++) {\n        a += variant + i;\n        a = Math.abs(Math.sin(a)) * 10000;\n        signal += Math.floor(a) % 3 + \"\";\n    }\n    return signal;\n}\n\n// Math.floor(Math.abs(Math.sin(variant)) * 10000);\n/*function sfc32(_a) {\n    a +=_a;\n    a = Math.abs(Math.sin(a)) * 10000;\n    return Math.floor(a);\n}*/\n/*\nfunction JCreg() {\n    return;\n}*/\n\nexport var JK_now = new JK_Trigger();\n","import React, {useState, useEffect} from 'react';\nimport \"./ResetBrowser.css\";\nimport \"./Test.css\";\nimport {draw_rect_signal, draw_JK} from \"./draw_functions.js\";\nimport {jk_array} from \"./jk.js\";\nimport {JK_now} from \"./generator.js\";\n\nconst Test = () => {\n    const [value, setValue] = useState(\"\");\n    const [answer, setAnswer] = useState(\"\");\n    const [variant, setVariant] = useState(Math.floor(Math.random()*100000));\n    const [variantMessage, setVariantMessage] = useState(\"\");\n    const DEBUG = true;\n\n    JK_now.generate(variant);\n//\n    const changeVariant = e => {\n        if (e.target.value.length < 16) {\n            if (e.target.value.indexOf(0) == 0) e.target.value = e.target.value.slice(1, e.target.value.length);\n            if (typeof e.target.value[0] === \"undefined\") e.target.value = 1;\n            JK_now.generate(e.target.value);\n            setVariant(e.target.value);\n            console.log(parseInt(jk_array(JK_now.signal_j, JK_now.signal_k, JK_now.signal_r, JK_now.signal_s, JK_now.signal_c, JK_now.q, {\"r\": JK_now.inv_R, \"c\": JK_now.inv_C, \"s\": JK_now.inv_S}).join(\"\"), 2).toString(16));\n        }\n    };\n\n    const changeValue = e => {\n        if (e.target.value.length < 7) setValue(e.target.value);\n    };\n    const submitAnswer = e => {\n        answer == parseInt(value, 16) ? setVariantMessage(\"ВЕРНО!\") : setVariantMessage(\"УВЫ!\");\n    };\n\n    useEffect(() => {\n        if (DEBUG) { \n            setValue(answer.toString(16));\n        }\n        let cnv = document.querySelector(\"#cnv\");\n        cnv.width = cnv.parentNode.offsetWidth;\n        cnv.height = cnv.parentNode.offsetHeight;\n        let ctx = cnv.getContext(\"2d\");\n        let size = cnv.width * 0.825; // регулирует масштаб выводимых сигналов\n        JK_now.order = JK_now.order[0] + \"CJK\" + JK_now.order[4];\n        for (let i in JK_now.order) {\n            let sig = JK_now.order[i];\n            if (i * 1 === 0) {\n                ctx.fillText(JK_now[\"inv_\" + sig] * 1 + \" ->\", size + 10, 35.5 + i*35)\n                continue;\n            }\n            if (sig === \"C\") ctx.strokeStyle = \"#fff\";\n            let add_c = sig === \"C\"? size/19:0;\n            draw_rect_signal(ctx, 30.5 - add_c/2, 33.5 + i*40, size + add_c, 10, JK_now[\"signal_\" + sig.toLowerCase()]);\n            ctx.strokeStyle = \"#000\";\n\n        }\n        ctx.clearRect(0, 0, 30, 200);\n        ctx.clearRect(30.5 + size, 0, 50, 200);\n        draw_JK(ctx, size + 50.5, 10.5, 80, 200, 10, [JK_now.inv_S, JK_now.inv_C, JK_now.inv_R], JK_now.order);\n        ctx.beginPath(); // drawing dots\n        for (let i = 0; i < 19; i++) {\n            let cx = 30.5 + (i + 1) * size/19 - size/19/4;\n            let y1 =  60.5,\n                y2 = 212.5,\n                yT = 50.5;\n            ctx.moveTo(cx, y1);\n            ctx.arc(cx, y1, 2, 0, Math.PI * 2);\n            ctx.moveTo(cx, y2)\n            ctx.arc(cx, y2, 2, 0, Math.PI * 2);\n            ctx.fillText(\"ABCDEFGHIJKLMNOPQRS\"[i], cx, yT);\n        }\n        ctx.fill();\n        ctx.beginPath(); // drawing dashed lines\n        ctx.setLineDash([3, 2]);\n        for (let i = 15; i > 0; i -= 4) {\n            ctx.moveTo(30.5 + i * size/19 + size/19/4, 38.5);\n            ctx.lineTo(30.5 + i * size/19 + size/19/4, 208.5)\n        }\n        ctx.strokeStyle = \"#0004\";\n        ctx.stroke();\n        setAnswer(parseInt(jk_array(JK_now.signal_j, JK_now.signal_k, JK_now.signal_r, JK_now.signal_s, JK_now.signal_c, JK_now.q, {\"r\": JK_now.inv_R, \"c\": JK_now.inv_C, \"s\": JK_now.inv_S}).join(\"\"), 2));\n   });\n\n    return (\n        <div className=\"App\">\n            <div className=\"App-header\">\n                JK26.3\n            </div>\n            <div className=\"App-main\">\n                <div className=\"App-main-leftside\"></div>\n                <div className=\"App-main-content\">\n                    <div className=\"App-main-content-data\">\n                        <div className=\"App-main-content-signal\">\n\n                            <canvas id=\"cnv\" ></canvas>\n\n                        </div>\n                    </div>\n\n                    <div className=\"App-main-content-variant\">\n                        <div className=\"Variant\">\n                            <VariantForm\n                                variant={variant}\n                                changeVariant={changeVariant}\n                            />\n                        </div>\n                        <div className=\"Answer\">\n                           <AnswerForm\n                               answer={answer}\n                               changeValue={changeValue}\n                               value={value}\n                               submitAnswer={submitAnswer}\n                               />\n                        </div>\n                        <div className=\"VariantMessage\">\n                            <p>{variantMessage}</p>\n                        </div>\n                    </div>\n                    <div className=\"App-main-content-description\">\n\n                        <p>В отмеченные моменты времени найдите 19 значений на выходе JK триггера при заданных временных диаграммах на входах C,J,K и R. Начальное значение Q&nbsp;=&nbsp;{JK_now.q * 1}. Ответ дайте в HEX коде.</p>\n                        <p>Пример ответа: 9DB94. Обратите внимание на тип входов S,R,C.</p>\n                    </div>\n                </div>\n                <div className=\"App-main-rightside\"></div>\n            </div>\n        </div>\n    );\n};\n\nconst VariantForm = ({variant, changeVariant}) => (\n    <div className=\"VariantContent\">\n       <div><b>ВВЕДИ ВАРИАНТ!</b></div>\n        <input type=\"number\" value={variant} onChange={changeVariant} min=\"1\"/>\n    </div>\n);\n\nconst AnswerForm = ({answer, value, changeValue, submitAnswer}) => {\n    return (\n        <div className=\"AnswerForm\">\n            <input type=\"text\" value={value} onChange={changeValue} placeholder=\"Каков ответ?\"/>\n            <button onClick={submitAnswer}> Давай! </button>\n        </div>\n    );\n}\n\nconst Signal = ({value}) => (\n    <div className=\"Signal\">{value}</div>\n);\n\nexport default Test;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Test from './Test';\n\nReactDOM.render(<Test />, document.getElementById('root'));\n"],"sourceRoot":""}